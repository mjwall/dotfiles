{"_id":"flukes","_rev":"11-f96ef2d01b86a0b9c83a9c7cd447e4c5","name":"flukes","description":"An implementation of React's Flux architecture.","dist-tags":{"latest":"0.1.4"},"versions":{"0.0.1":{"name":"flukes","version":"0.0.1","description":"An implementation of React's Flux architecture.","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"}],"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"repository":{"type":"git","url":"https://github.com/Floobits/flukes.git"},"dependencies":{},"devDependencies":{"jshint":"2.4.x","nodeunit":">=0.9.0","webpack":">=1.4.0-beta9"},"licenses":[{"type":"Apache License 2","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}],"directories":{"lib":"./lib"},"scripts":{"test":"node ./scripts/flux","build":"node node_modules/webpack/bin/webpack.js --colors --progress"},"gitHead":"8a5e0295840f542621fbff9488a0faf0ad3f860f","bugs":{"url":"https://github.com/Floobits/flukes/issues"},"homepage":"https://github.com/Floobits/flukes","_id":"flukes@0.0.1","_shasum":"e2fc2ba74dc15d8b7190e994dfac7ce4d89b3052","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"ggreer","email":"angryparsley@gmail.com"},"dist":{"shasum":"e2fc2ba74dc15d8b7190e994dfac7ce4d89b3052","tarball":"https://registry.npmjs.org/flukes/-/flukes-0.0.1.tgz"}},"0.1.0":{"name":"flukes","version":"0.1.0","description":"An implementation of React's Flux architecture.","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"},{"name":"kans","email":"mkaniaris@gmail.com"}],"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"repository":{"type":"git","url":"https://github.com/Floobits/flukes.git"},"dependencies":{},"devDependencies":{"jshint":"2.4.x","nodeunit":"0.9.x","webpack":"1.4.x"},"licenses":[{"type":"Apache License 2","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}],"directories":{"lib":"./lib"},"scripts":{"test":"node ./scripts/flux","build":"node node_modules/webpack/bin/webpack.js --colors --progress"},"gitHead":"5774c203025f0429a4bf4cf92106305fc289ac4d","bugs":{"url":"https://github.com/Floobits/flukes/issues"},"homepage":"https://github.com/Floobits/flukes","_id":"flukes@0.1.0","_shasum":"23c4d07caf33af1d88768a9d2b2f732532fb6479","_from":"./","_npmVersion":"1.4.24","_npmUser":{"name":"kans","email":"mkaniaris@gmail.com"},"dist":{"shasum":"23c4d07caf33af1d88768a9d2b2f732532fb6479","tarball":"https://registry.npmjs.org/flukes/-/flukes-0.1.0.tgz"}},"0.1.1":{"name":"flukes","version":"0.1.1","description":"An implementation of React's Flux architecture.","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"},{"name":"kans","email":"mkaniaris@gmail.com"}],"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"repository":{"type":"git","url":"https://github.com/Floobits/flukes.git"},"dependencies":{},"devDependencies":{"jshint":"2.4.x","nodeunit":"0.9.x","webpack":"1.5.x"},"licenses":[{"type":"Apache License 2","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}],"directories":{"lib":"./lib"},"scripts":{"test":"node ./scripts/flux","build":"node node_modules/webpack/bin/webpack.js --colors --progress"},"gitHead":"be64171e98cc0d1f2075ab06b0b1b526d10bf2f9","bugs":{"url":"https://github.com/Floobits/flukes/issues"},"homepage":"https://github.com/Floobits/flukes","_id":"flukes@0.1.1","_shasum":"2206c5aa74a6c89ca111279dd6f7b7b2bbec47ec","_from":".","_npmVersion":"2.2.0","_nodeVersion":"0.10.35","_npmUser":{"name":"ggreer","email":"angryparsley@gmail.com"},"dist":{"shasum":"2206c5aa74a6c89ca111279dd6f7b7b2bbec47ec","tarball":"https://registry.npmjs.org/flukes/-/flukes-0.1.1.tgz"}},"0.1.2":{"name":"flukes","version":"0.1.2","description":"An implementation of React's Flux architecture.","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"},{"name":"kans","email":"mkaniaris@gmail.com"}],"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"repository":{"type":"git","url":"https://github.com/Floobits/flukes.git"},"dependencies":{},"devDependencies":{"jshint":"2.4.x","nodeunit":"0.9.x","webpack":"1.5.x"},"licenses":[{"type":"Apache License 2","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}],"main":"lib/flux.js","directories":{"lib":"./lib"},"scripts":{"test":"node ./scripts/flux","build":"node node_modules/webpack/bin/webpack.js --colors --progress"},"gitHead":"22ff0a2d76c153b4691dc381a301bedc00087dc6","bugs":{"url":"https://github.com/Floobits/flukes/issues"},"homepage":"https://github.com/Floobits/flukes","_id":"flukes@0.1.2","_shasum":"2a3954a5923a6ad3971181e093d185eb4ac7772d","_from":".","_npmVersion":"2.2.0","_nodeVersion":"0.10.35","_npmUser":{"name":"ggreer","email":"angryparsley@gmail.com"},"dist":{"shasum":"2a3954a5923a6ad3971181e093d185eb4ac7772d","tarball":"https://registry.npmjs.org/flukes/-/flukes-0.1.2.tgz"}},"0.1.3":{"name":"flukes","version":"0.1.3","description":"An implementation of React's Flux architecture.","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"},{"name":"kans","email":"mkaniaris@gmail.com"}],"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"repository":{"type":"git","url":"git+https://github.com/Floobits/flukes.git"},"dependencies":{},"devDependencies":{"jshint":"2.4.x","nodeunit":"0.9.x","webpack":"1.5.x"},"licenses":[{"type":"Apache License 2","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}],"main":"lib/flux.js","directories":{"lib":"./lib"},"scripts":{"test":"node ./scripts/flux","build":"node node_modules/webpack/bin/webpack.js --colors --progress"},"gitHead":"f9896a85f2880f81d3db47e6a055068077237d2a","bugs":{"url":"https://github.com/Floobits/flukes/issues"},"homepage":"https://github.com/Floobits/flukes#readme","_id":"flukes@0.1.3","_shasum":"f0a31e1ff6a43c40c74ac96ebe84249488f76f5f","_from":".","_npmVersion":"2.14.3","_nodeVersion":"4.1.0","_npmUser":{"name":"kans","email":"mkaniaris@gmail.com"},"dist":{"shasum":"f0a31e1ff6a43c40c74ac96ebe84249488f76f5f","tarball":"https://registry.npmjs.org/flukes/-/flukes-0.1.3.tgz"}},"0.1.4":{"name":"flukes","version":"0.1.4","description":"An implementation of React's Flux architecture.","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"},{"name":"kans","email":"mkaniaris@gmail.com"}],"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"repository":{"type":"git","url":"git+https://github.com/Floobits/flukes.git"},"dependencies":{},"devDependencies":{"jshint":"2.4.x","nodeunit":"0.9.x","webpack":"1.5.x"},"licenses":[{"type":"Apache License 2","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}],"main":"lib/flux.js","directories":{"lib":"./lib"},"scripts":{"test":"node ./scripts/flux","build":"node node_modules/webpack/bin/webpack.js --colors --progress"},"gitHead":"e6b9c760f27c3b2de463ae40502a4f9348dcb4f2","bugs":{"url":"https://github.com/Floobits/flukes/issues"},"homepage":"https://github.com/Floobits/flukes#readme","_id":"flukes@0.1.4","_shasum":"2376fd07767718697be6af00bdf7c165d51f99bf","_from":".","_npmVersion":"2.14.3","_nodeVersion":"4.1.0","_npmUser":{"name":"kans","email":"mkaniaris@gmail.com"},"dist":{"shasum":"2376fd07767718697be6af00bdf7c165d51f99bf","tarball":"https://registry.npmjs.org/flukes/-/flukes-0.1.4.tgz"}}},"readme":"#flux\n\n[![Build Status](https://travis-ci.org/Floobits/flukes.svg)](https://travis-ci.org/Floobits/flukes)\n\n[![NPM version](https://badge.fury.io/js/flukes.svg)](http://badge.fury.io/js/flukes)\n\nFloobit's Flux is an implementation of Facebook's [Flux](http://facebook.github.io/react/docs/flux-overview.html) architecture for React.  Flux is minimal, modern, and designed for boilerplate-free reactive programing. If React is the V in MVC, Flux is the M.\n\n##Design Goals\nFlux choices ease of use and development over legacy suport.  Because of the liberal use of  [getters and setters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects#Defining_getters_and_setters), it is not supported by ie9 or earlier.\n\n##Components:\n- [Events](#Events) - Binding and Unbinding\n- [Actions](#Actions) - Signaling Changes in State\n- [Models](#Models) - Canonical State\n- [AutoBinder](#AutoBinder) - Binding to React Components\n- [BestPractices](#BestPractices)\n\n### <a name=\"Events\"></a>Events\nEvent binding breaks from the NodeJS convention by returning a unique ID (number).  \n\n\n```javascript\nvar events = SomeEventEmitter();\n// binds to all events\nvar id = events.on(function () {});\n// binds to SomeEvent\nvar onSomeEventId = events.on('SomeEvent', function () {});\n// unbind onSomeEventId handler\nevents.off(onSomeEventId);\n// unbind all 'SomeEvent' handlers\nevents.off('SomeEvent');\n// unbind all handlers\nevents.off();\n```\n\n### <a name=\"Actions\"></a>Actions\nA Flux Action is a public, (typically singleton) event emitter with a well defined interface.\n\n```javascript\nvar actions, Actions = flux.createActions({\n  sum: function(a, b) {\n    return a + b;\n  }\n});\nactions = new Actions();\n\nconsole.log(actions.SUM);\n// 'SUM'\nconsole.log(actions.sum);\n// [Function]\n```\n***flux.createActions*** returns a *constructor*- you must call *new* to make the *Actions* object.  *actions* has a *SUM* field (\"SUM\") and a *sum* function (emitter).\n\n```javascript\nactions.on(function(name, data) {\n  console.log(name, data);\n});\n\n//'static' checking\nactions.onSUM(function (data) {\n  console.log(\"onSum\", data);\n});\n\nconsole.log(actions.sum(1, 2));\n// SUM 3\n// onSum 3\n\n//don't do this!\nactions.on(actions.SUM, function (data) {});\n```\n\nActions also support the special property, ***init***, which is called after instantiation.  Fields that aren't functions are set on Action's prototype.\n```javascript\nvar actions, Actions = flux.createActions({\n  sum: function(b) {\n    return this.a + this.someVariable + b;\n  },\n  init: function (a) {\n    this.a = a;\n  },\n  someVariable: 2,\n});\n\nactions = new Actions(1);\nactions.sum(3);\n```\n\nThe values returned by actions are __applied__ to the bound handlers.  If you want to return an array, it must be wrapped in another array:\n```javascript\nvar actions, Actions = flux.createActions({\n  f: function (x) {\n    return [1, 2, 3];\n  },\n  g: function () {\n    // returns an array\n    return [[1, 2, 3]];\n  }\n});\n\nactions = new Actions();\nactions.onF(function (a, b, c) {\n  console.log(a, b, c);\n});\nactions.f();\n// 1 2 3\nactions.g();\n// [1, 2, 3] undefined undefined\n```\n\nActions may ***return*** an Error object to cancel the dispatch.  The error will be returned from the action call.\n```javascript\nvar actions, Actions = flux.createActions({\n  f: function () {\n    return new Error(\"oh shit\");\n  }\n});\nactions = new Actions();\n// never called\nactions.onF(console.log);\nvar err = actions.f();\n```\n\nA final note, emitting is synchronous by design.\n\n#### <a name=\"AsyncActions\"></a>AsyncActions (Experimental)\n\nSome actions have handlers that are asynchronous.  It is often necessary to take some further action after all the dispatchers have completed.  Asynchronous actions solve this problem.\n\n```javascript\nvar actions = new (flux.createActions({\n  async_sum: function(a, b) {\n    return a + b;\n  }\n}));\nactions.on(actions.ASYNC_SUM, function(sum, cb) {\n  setTimeout(cb, 1);\n});\nactions.on(actions.ASYNC_SUM, function(sum, cb) {\n  cb();\n});\nactions.async_sum(1, 2, function(sum) {\n  console.log(sum);\n});\n```\n***NOTE:*** Async actions are prefixed with *async*.  \n\nThe callback to *actions.async_sum* will not be called until both listeners have fired their callback.\n\n###<a name=\"Models\"></a>Models (Stores)\n\nFlux Models are the canonical source of truth within an application and provide a well defined (reactive) interface for mutating state.\n\nReact elements can bind to models via the [AutoBinder Mixin](#AutoBinder); the element will be rerendered automagically when the model changes.  Models may contain references to other models.  In this case, change events proprogate up the chain. You should only bind the root level model to an Element.  \n\nModels come in three flavors:\n- [DataModel](#DataModel) - a heterogenous container (sometimes called a Model)\n- [Collection](#Collection) - a homogenous, ordered set of a DataModel\n- [List](#List) - a heterogenous list whose children are not bound\n\n####<a name=\"DataModel\"></a>DataModel\nDataModels are the workhorse of Flux.  They are loosely modeled after React Elements and may contain references to other Models, Lists, or Collections.\n\n```javascript\nvar flux = require(\"flux\"),\n  fieldTypes = flux.FieldTypes,\n  Model, model;\n  \nModel = flux.createModel({\n  modelName: \"ModelModelModel\",\n  fieldTypes: {\n    someField: fieldTypes.string,\n  }\n});\n\nmodel = new Model({someField: \"asdf\"});\n```\nThe attribute modelName is used for logging and is not required. FieldTypes are Flux's analog to propTypes and are required.  The fields are reactive; when a value changes, the model emits an update event.  Models must have an __id__ field. If it is not supplied, a number field will be added automatically to the model- id fields may be any (hashable) type.\n\n__createModel__ creates setters for each field in __fieldTypes__.  When the value for a field changes, the model will emit:\n```javascript\n// emits\nmodel.someField = \"asdf\";\n```\n\nModels have other special fields:\n\n```javascript\nModel = flux.createModel({\n  // will save an instance to local storage on model.save()\n  backend: flux.backends.local,\n  // applied with arguments to new Model(...) after fields have been set\n  init: function (a, b, c) {\n    console.log(a, b, c);\n  },\n  // called before model emits\n  didUpdate: function (field) {\n    if (field === \"someField\") {\n      // suppresses emitting events\n      return false;\n    }\n  },\n  fieldTypes: {\n    someField: fieldTypes.string,\n  }\n});\n```\n\nModel instances have the following methods:\n- ***set({}, options)*** - sets the values for fields and calls update afterwards- if {silent: true} is given as an option, the instance will not emit\n- ***valueOf()*** - recursively JSON serialization discarding ephemeral fields\n- ***save(opt_key, opt_cb)*** - saves the instance if a backend is specified\n\n\n####<a name=\"Collection\"></a>Collection\n\nA collection is a homogenous, ordered set of DataModels. Collections are ordered by the order in which models are added unless a sort function is supplied to createCollection.  When a model is added or when it changes, the Collection emits a change event.\n\n```javascript\nModels = flux.createCollection({\n  model: Model,\n  modelName: \"Models\",\n  sort: function (a, b) {\n    return a > b;\n  }\n});\n```\n\nCollection instances have the following methods:\n- ***add(model)*** - adds the model to the collection\n- ***remove(id)*** - removes the model matching the id\n- ***insert(model, index)*** - inserts the model at postion __index__\n- ***byIndex(i)*** finds model at index i\n- ***get(id)*** returns model with id, __id__\n- ***valueOf()*** serialized the entire collection to JSON recursively - ephemeral fields are omitted\n- ***sort()*** - sorts the models via the time at which they were added or by the user defined sort function\n- ***set([models])*** - adds or overwrites existing models that match the ids of the models\n- ***reset()*** empties the collection\n- ***map(f, opt_thisArg)*** maps over the collection using the order calling f.call(opt_thisArg, model, id, index)\n- ***forEach(f, opt_thisArg)*** loops over the collection using the order\n- ***reduce(f, accumulator, opt_thisArg)*** reduces the collection returning the result\n- ***find(f, opt_thisArg)*** returns the model the first time __fmodel, index)__ returns true\n- ***save(namespace, id)*** serializes this model using valueOf and saves under namespace __namespace__ and id __id__\n- ***load(namespace, opt_cb)*** calls backend.load and set() with the data. throws if no backend is specified.  \n\nProperties:\n- ***length*** returns the size of the collection\n- ***model*** the model\n\nStatic Methods:\n- ***load(namespace, id, opt_cb)*** will load and return a new collection with key __key__ and id __id__\n\n\n####<a name=\"List\"></a>List\nA thin wrapper around arrays because general getters (Harmony) haven't landed in JS land yet.  Lists have all methods of Arrays.  Lists only emit when members are added or removed.\n\n\n#### <a name=\"AutoBinder\"></a>AutoBinder Mixin (Binding to React Components)\nThe AutoBinder Mixin is glue for binding Models to  Components.  When the Model's state changes, the mixin calls forceupdate on the Component ensuring it is rerendered.  Consider the following model and component:\n\n```javascript\nModel = flux.createModel({\n  fieldTypes: {\n    field: FieldTypes.string,\n  }\n});\n\naModelProp = new Model({field: \"b\"});\n    \nView = React.createClass({\n  mixins: [flux.createAutoBinder([\"aModelProp\"])],\n  render: function () {...}\n});\n\nReact.renderComponent(<View aProp={aModelProp} />, document.getElementById(\"view\"));\n```\nIn the typical case, some Model is passed to the View as a prop.  The variable __aModelProp__  is bound after the model is created and any change in the model will call the forceUpdate function on the view.  \n\nDots can be used if the Model is buried within some descendant of the prop:\n```javascript\nView = React.createClass({\n  mixins: [flux.createAutoBinder([\"prop.child.Model\"])],\n  render: function () {...}\n});\n```\n\nModels can be passed to the mixin directly:\n```javascript\nsomeModel = new Model({field: \"b\"});\nView = React.createClass({\n  mixins: [flux.createAutoBinder([], [someModel])],\n  render: function () {...}\n});\n```\n\n#### <a name=\"BestPractices\"></a>BestPractices\n###Actions are Singletons\n###Avoiding Model Passthrough\nNested React Components tend to generate extreme variable pass-through.  Often, variables (models for presentation) must be handed through several layers of layout controlling components before they are used.  This anti-pattern may be avoided in Flux in the case of model singletons.  Export the singleton so that leaf nodes can require it.  Instead of changing the model directly, alter the state of the model within actions and return the instance from the action.\n","maintainers":[{"name":"ggreer","email":"angryparsley@gmail.com"},{"name":"kans","email":"mkaniaris@gmail.com"}],"time":{"modified":"2015-10-16T00:22:08.547Z","created":"2014-09-23T19:24:15.995Z","0.0.1":"2014-09-23T19:24:15.995Z","0.1.0":"2015-01-28T21:24:33.798Z","0.1.1":"2015-01-28T21:36:04.956Z","0.1.2":"2015-01-29T01:45:55.274Z","0.1.3":"2015-09-18T21:19:14.066Z","0.1.4":"2015-10-16T00:22:08.547Z"},"homepage":"https://github.com/Floobits/flukes#readme","repository":{"type":"git","url":"git+https://github.com/Floobits/flukes.git"},"contributors":[{"name":"Matt Kaniaris","url":"https://github.com/kans"},{"name":"Geoff Greer","url":"http://geoff.greer.fm/"},{"name":"Bjorn Tipling","url":"https://github.com/btipling"}],"bugs":{"url":"https://github.com/Floobits/flukes/issues"},"readmeFilename":"README.md","_attachments":{},"_etag":"\"CORTZUA1F37QTNT7PZIJ1DP2W\""}